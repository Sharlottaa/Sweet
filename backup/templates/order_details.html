{% extends 'base.html' %}
{% block title %}Детали заказа №{{ order.id }}{% endblock %}

{% block body %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h2 class="text-center mb-4" style="font-family: 'Pacifico', cursive; color: #D10063;">Детали заказа №{{
                order.id }}</h2>

            <!-- Чек с деталями заказа -->
            <div class="card mb-3 shadow" style="border-radius: 20px; overflow: hidden;">
                <div style="background: linear-gradient(to right, #FFD1DC, #fff0f5); padding: 20px;">
                    <h5 class="text-center" style="font-family: 'Pacifico', cursive; color: #D10063;">Чек заказа</h5>
                    <table class="table">
                        <thead>
                        <tr style="color: #333;">
                            <th>Товар</th>
                            <th>Цена за ед.</th>
                            <th>Количество</th>
                            <th>Итого</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for item in order.order_items %}
                        <tr style="font-family: 'Open Sans', sans-serif; color: #333;">
                            <td>{{ item.item.title }}</td>
                            <td>{{ item.item.price }} руб.</td>
                            <td>{{ item.quantity }}</td>
                            <td>{{ item.quantity * item.item.price }} руб.</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                        <tfoot>
                        <tr style="font-weight: bold; color: #D10063;">
                            <th colspan="3" class="text-right">Общая сумма:</th>
                            <th>{{ order.total_price }} руб.</th>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <!-- Информация о заказе -->
            <div class="card mb-3 shadow" style="border-radius: 20px; overflow: hidden;">
                <div style="background: linear-gradient(to right, #FFD1DC, #fff0f5); padding: 20px;">
                    <h5 class="card-title" style="font-family: 'Pacifico', cursive; color: #D10063;">Информация о
                        заказе</h5>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;"><strong>Статус:</strong> {{
                        order.status }}</p>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;"><strong>Дата заказа:</strong> {{
                        order.order_date.strftime('%Y-%m-%d %H:%M') }}</p>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;"><strong>Общая стоимость:</strong> {{
                        order.total_price }} руб.</p>
                </div>
            </div>

            <!-- Детали доставки -->
            <div class="card mb-3 shadow" style="border-radius: 20px; overflow: hidden;">
                <div style="background: linear-gradient(to right, #FFD1DC, #fff0f5); padding: 20px;">
                    <h5 class="card-title" style="font-family: 'Pacifico', cursive; color: #D10063;">Детали
                        доставки</h5>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;"><strong>Адрес:</strong> {{
                        order.delivery_address.street }}, {{ order.delivery_address.city }}, {{
                        order.delivery_address.country }}</p>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;"><strong>Телефон:</strong> {{
                        order.delivery_address.phone }}</p>
                    <p style="font-family: 'Open Sans', sans-serif; color: #333;">В случае отмены заказа или уточнения
                        звоните +79938866265</p>
                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}
